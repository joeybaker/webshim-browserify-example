(function(a){window.jQuery&&(a(jQuery),a=jQuery.noop),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("polyfiller",["jquery"],a)})(function(a){"use strict";var b="dom-support",c=a(document.scripts||"script"),d=a.event.special,e=a([]),f=window.Modernizr,g=window.asyncWebshims,h=f.addTest,i=window.Object,j=window.html5||{};f.advancedObjectProperties=f.objectAccessor=f.ES5=!!("create"in i&&"seal"in i),!f.ES5||"toJSON"in Date.prototype||(f.ES5=!1),a.event.customEvent||(a.event.customEvent={});var k={version:"1.10.8pre",cfg:{useImportantStyles:!0,waitReady:!0,extendNative:!0,loadStyles:!0,disableShivMethods:!0,wspopover:{appendTo:"body",hideOnBlur:!0},basePath:function(){var d,b=c.filter('[src*="polyfiller.js"]');return b=b[0]||b.end()[b.end().length-1],d=(a.support.hrefNormalized?b.src:b.getAttribute("src",4)).split("?")[0],d=d.slice(0,d.lastIndexOf("/")+1)+"shims/"}()},bugs:{},modules:{},features:{},featureList:[],setOptions:function(b,c){"string"==typeof b&&void 0!==c?l[b]=a.isPlainObject(c)?a.extend(!0,l[b]||{},c):c:"object"==typeof b&&a.extend(!0,l,b)},addPolyfill:function(b,c){c=c||{};var d=c.f||b;m[d]||(m[d]=[],k.featureList.push(d),l[d]={}),!m[d].failedM&&c.nM&&a.each(c.nM.split(" "),function(a,b){return b in f?void 0:(m[d].failedM=b,!1)}),m[d].failedM&&(c.test=function(){return k.error("webshims needs Modernizr."+m[d].failedM+" to implement feature: "+d),!0}),m[d].push(b),c.options=a.extend(l[d],c.options),t(b,c),c.methodNames&&a.each(c.methodNames,function(a,b){k.addMethodName(b)})},polyfill:function(){var a={};return function(b){b||(b=k.featureList,k.info("loading all features without specifing might be bad for performance")),"string"==typeof b&&(b=b.split(" "));for(var c=0;b.length>c;c++)a[b[c]]&&k.error(b[c]+" already loaded, you might want to use updatePolyfill instead? see: bit.ly/12BtXX3"),a[b[c]]=!0;return k._polyfill(b)}}(),_polyfill:function(){var c,b=function(c){var f,d=[];l.disableShivMethods&&(j.shivMethods=!1);var g=function(){a("html").removeClass("loading-polyfills long-loading-polyfills"),a(window).unbind(".lP"),clearTimeout(f)};d.push("loading-polyfills"),f=setTimeout(function(){a("html").addClass("long-loading-polyfills"),f=setTimeout(g,300)},300),a(window).on("load.lP error.lP",g),l.waitReady&&a.isReady&&k.warn("Call webshims.polyfill before DOM-Ready or set waitReady to false."),o(c,g),l.useImportantStyles&&d.push("polyfill-important"),d[0]&&a("html").addClass(d.join(" ")),l.loadStyles&&r.loadCSS("styles/shim.css"),b=a.noop};return function(d){var e=[];c||(c=-1!==a.inArray("forms",d),c||-1===a.inArray("forms-ext",d)||(d.push("forms"),c=!0)),l.waitReady&&(a.readyWait++,o(d,function(){a.ready(!0)})),a.each(d,function(a,b){return m[b]?(b!==m[b][0]&&o(m[b],function(){n(b,!0)}),e=e.concat(m[b]),void 0):(k.error("could not find webshims-feature (aborted): "+b),n(b,!0),void 0)}),b(d),s(e)}}(),reTest:function(){var b,c=function(c,e){var h,f=q[e],g=e+"Ready";!f||f.loaded||(f.test&&a.isFunction(f.test)?f.test([]):f.test)||(d[g]&&delete d[g],h=m[f.f],b.push(e))};return function(d){"string"==typeof d&&(d=d.split(" ")),b=[],a.each(d,c),s(b)}}(),isReady:function(b,c){if(b+="Ready",c){if(d[b]&&d[b].add)return!0;d[b]=a.extend(d[b]||{},{add:function(a){a.handler.call(this,b)}}),a(document).triggerHandler(b)}return!(!d[b]||!d[b].add)||!1},ready:function(b,c){var d=arguments[2];if("string"==typeof b&&(b=b.split(" ")),d||(b=a.map(a.grep(b,function(a){return!n(a)}),function(a){return a+"Ready"})),!b.length)return c(a,k,window,document),void 0;var f=b.shift(),g=function(){o(b,c,!0)};a(document).one(f,g)},capturingEvents:function(b,c){document.addEventListener&&("string"==typeof b&&(b=[b]),a.each(b,function(b,e){var f=function(b){return b=a.event.fix(b),c&&k.capturingEventPrevented&&k.capturingEventPrevented(b),a.event.dispatch.call(this,b)};d[e]=d[e]||{},d[e].setup||d[e].teardown||a.extend(d[e],{setup:function(){this.addEventListener(e,f,!0)},teardown:function(){this.removeEventListener(e,f,!0)}})}))},register:function(b,c){var d=q[b];if(!d)return k.error("can't find module: "+b),void 0;if(d.noAutoCallback){var e=function(){c(a,k,window,document,void 0,d.options),n(b,!0)};d.d&&d.d.length?o(d.d,e):e()}},c:{},loader:{addModule:function(b,c){q[b]=c,c.name=c.name||b,c.c||(c.c=[]),a.each(c.c,function(a,c){k.c[c]||(k.c[c]=[]),k.c[c].push(b)})},loadList:function(){var b=[],c=function(c,d){"string"==typeof d&&(d=[d]),a.merge(b,d),r.loadScript(c,!1,d)},d=function(c,d){if(n(c)||-1!=a.inArray(c,b))return!0;var e=q[c];l[e.f||c]||{};var g;return e?(g=e.test&&a.isFunction(e.test)?e.test(d):e.test,g?(n(c,!0),!0):!1):!0},e=function(b,c){if(b.d&&b.d.length){var e=function(b,e){d(e,c)||-1!=a.inArray(e,c)||c.push(e)};a.each(b.d,function(b,c){q[c]?e(b,c):m[c]&&(a.each(m[c],e),o(m[c],function(){n(c,!0)}))}),b.noAutoCallback||(b.noAutoCallback=!0)}};return function(f){var h,j,l,m,i=[],n=function(d,e){return m=e,a.each(k.c[e],function(c,d){return-1==a.inArray(d,i)||-1!=a.inArray(d,b)?(m=!1,!1):void 0}),m?(c("combos/"+m,k.c[m]),!1):void 0};for(j=0;f.length>j;j++)h=q[f[j]],h&&!d(h.name,f)?(h.css&&r.loadCSS(h.css),h.loadInit&&h.loadInit(),h.loaded=!0,e(h,f),i.push(h.name)):h||k.warn("could not find: "+f[j]);for(j=0,l=i.length;l>j;j++)m=!1,h=i[j],-1==a.inArray(h,b)&&("noCombo"!=k.debug&&a.each(q[h].c,n),m||c(q[h].src||h,h))}}(),makePath:function(a){return-1!=a.indexOf("//")||0===a.indexOf("/")?a:(-1==a.indexOf(".")&&(a+=".js"),l.addCacheBuster&&(a+=l.addCacheBuster),l.basePath+a)},loadCSS:function(){var b,c=[];return function(d){d=this.makePath(d),-1==a.inArray(d,c)&&(b=b||a("link, style")[0]||a("script")[0],c.push(d),a('<link rel="stylesheet" />').insertBefore(b).attr({href:d}))}}(),loadScript:function(){var b=[];return function(c,d,e){if(c=r.makePath(c),-1==a.inArray(c,b)){var f=function(){f=null,d&&d(),e&&("string"==typeof e&&(e=e.split(" ")),a.each(e,function(a,b){q[b]&&(q[b].afterLoad&&q[b].afterLoad(),n(q[b].noAutoCallback?b+"FileLoaded":b,!0))}))};b.push(c),window.define && window.require?require([c],f):window.sssl?sssl(c,f):window.yepnope?yepnope.injectJs(c,f):window.steal&&steal(c).then(f)}}}()}};a.webshims=k;var l=k.cfg,m=k.features,n=k.isReady,o=k.ready,p=k.addPolyfill,q=k.modules,r=k.loader,s=r.loadList,t=r.addModule,u=k.bugs,v=[],w={warn:1,error:1};k.addMethodName=function(b){b=b.split(":");var c=b[1];1==b.length?(c=b[0],b=b[0]):b=b[0],a.fn[b]=function(){return this.callProp(c,arguments)}},a.fn.callProp=function(b,c){var d;return c||(c=[]),this.each(function(){var e=a.prop(this,b);if(e&&e.apply){if(d=e.apply(this,c),void 0!==d)return!1}else k.warn(b+" is not a method of "+this)}),void 0!==d?d:this},k.activeLang=function(){var a=navigator.browserLanguage||navigator.language||"";return o("webshimLocalization",function(){k.activeLang(a)}),function(b){if(b)if("string"==typeof b)a=b;else if("object"==typeof b){var c=arguments,d=this;o("webshimLocalization",function(){k.activeLang.apply(d,c)})}return a}}(),k.errorLog=[],a.each(["log","error","warn","info"],function(a,b){k[b]=function(a){(w[b]&&k.debug!==!1||k.debug)&&(k.errorLog.push(a),window.console&&console.log&&console[console[b]?b:"log"](a))}}),function(){a.isDOMReady=a.isReady;var b=function(){a.isDOMReady=!0,n("DOM",!0),setTimeout(function(){n("WINDOWLOAD",!0)},9999)};if(a.isDOMReady)b();else{var c=a.ready;a.ready=function(d){return d!==!0&&document.body&&(b(),a.ready=c),c.apply(this,arguments)},a.ready.promise=c.promise}a(b),a(window).load(function(){b(),setTimeout(function(){n("WINDOWLOAD",!0)},9)})}(),function(){var b=[],c=function(){1==this.nodeType&&k.triggerDomUpdate(this)};a.extend(k,{addReady:function(a){var c=function(b,c){k.ready("DOM",function(){a(b,c)})};b.push(c),c(document,e)},triggerDomUpdate:function(c){if(!c||!c.nodeType)return c&&c.jquery&&c.each(function(){k.triggerDomUpdate(this)}),void 0;var d=c.nodeType;if(1==d||9==d){var f=c!==document?a(c):e;a.each(b,function(a,b){b(c,f)})}}}),a.fn.htmlPolyfill=function(b){var d=a.fn.html.call(this,b);return d===this&&a.isDOMReady&&this.each(c),d},a.fn.jProp=function(){return a(a.fn.prop.apply(this,arguments)||[])},a.each(["after","before","append","prepend","replaceWith"],function(b,d){a.fn[d+"Polyfill"]=function(b){return b=a(b),a.fn[d].call(this,b),a.isDOMReady&&b.each(c),this}}),a.each(["insertAfter","insertBefore","appendTo","prependTo","replaceAll"],function(b,c){a.fn[c.replace(/[A-Z]/,function(a){return"Polyfill"+a})]=function(){return a.fn[c].apply(this,arguments),a.isDOMReady&&k.triggerDomUpdate(this),this}}),a.fn.updatePolyfill=function(){return a.isDOMReady&&k.triggerDomUpdate(this),this},a.each(["getNativeElement","getShadowElement","getShadowFocusElement"],function(b,c){a.fn[c]=function(){return this.pushStack(this)}})}(),function(){var b="defineProperty",c=i.prototype.hasOwnProperty,d=["configurable","enumerable","writable"],e=function(a){for(var b=0;3>b;b++)void 0!==a[d[b]]||"writable"===d[b]&&void 0===a.value||(a[d[b]]=!0)},f=function(a){if(a)for(var b in a)c.call(a,b)&&e(a[b])};i.create&&(k.objectCreate=function(b,c,d){f(c);var e=i.create(b,c);return d&&(e.options=a.extend(!0,{},e.options||{},d),d=e.options),e._create&&a.isFunction(e._create)&&e._create(d),e}),i[b]&&(k[b]=function(a,c,d){return e(d),i[b](a,c,d)}),i.defineProperties&&(k.defineProperties=function(a,b){return f(b),i.defineProperties(a,b)}),k.getOwnPropertyDescriptor=i.getOwnPropertyDescriptor,k.getPrototypeOf=i.getPrototypeOf}(),t("swfmini",{test:function(){return window.swfobject&&!window.swfmini&&(window.swfmini=window.swfobject),"swfmini"in window},c:[16,7,2,8,1,12,19,25,23,27]}),q.swfmini.test(),p("es5",{test:!(!f.ES5||!Function.prototype.bind),c:[14,18,19,25,20]}),p("dom-extend",{f:b,noAutoCallback:!0,d:["es5"],c:[16,7,2,15,30,3,8,4,9,10,14,25,19,20,26,28,31]}),function(){var c,d,e,g=f.input,i=f.inputtypes,j="formvalidation",m="form-number-date-api",n=a('<select required="" name="a"><option disabled="" /></select>')[0],o=!1,r=function(){return r.run||(h(j,function(){return!(!g.required||!g.pattern)}),h("fieldsetdisabled",function(){var b=a("<fieldset />")[0];return"elements"in b&&"disabled"in b}),i&&h("styleableinputrange",function(){return i.range&&!window.opera}),f[j]&&(u.bustedValidity=o=!(g.list&&!window.opera&&f.formattribute!==!1&&f.fieldsetdisabled&&"value"in document.createElement("progress")&&"value"in document.createElement("output")&&(a('<input type="date" value="1488-12-11" />')[0].validity||{valid:!0}).valid&&"required"in n&&!(n.validity||{}).valid)),c=f[j]&&!o?"form-native-extend":"form-shim-extend"),r.run=!0,!1};g&&i&&r(),document.createElement("datalist"),k.formcfg=[],k.validationMessages=k.validityMessages=[],k.inputTypes={},p("form-core",{f:"forms",d:["es5"],test:r,options:{placeholderType:"value",langSrc:"i18n/formcfg-",messagePopover:{},datalistPopover:{constrainWidth:!0},iVal:{handleBubble:!0,sel:".ws-instantvalidation",recheckDelay:400},availabeLangs:["ar","ch-ZN","el","es","fr","he","hi","hu","it","ja","lt","nl","pt-PT","ru","sv"]},methodNames:["setCustomValidity","checkValidity"],c:[16,7,2,8,1,15,30,3,31],nM:"input"}),d=l.forms,p("form-native-extend",{f:"forms",test:function(b){return!f[j]||o||-1==a.inArray(m,b||[])||q[m].test()},d:["form-core",b,"form-message"],c:[6,5]}),p("form-shim-extend",{f:"forms",test:function(){return f[j]&&!o},d:["form-core",b],c:[16,15]}),p("form-message",{f:"forms",test:function(a){return!(d.customMessages||!f[j]||o||!q[c].test(a))},d:[b],c:[16,7,15,30,3,8,4]}),e={noAutoCallback:!0,options:d,c:[24]},t("form-validation",a.extend({d:["form-message","form-core"]},e)),t("form-validators",a.extend({},e)),p(m,{f:"forms-ext",options:{types:"range date time number month"},test:function(){var b=!0,c=this.options;return c._types||(c._types=c.types.split(" ")),r(),a.each(c._types,function(a,c){return c in i&&!i[c]?(b=!1,!1):void 0}),b},methodNames:["stepUp","stepDown"],d:["forms",b],c:[6,5,18,17],nM:"input inputtypes"}),t("range-ui",{options:{},noAutoCallback:!0,test:function(){return!!a.fn.rangeUI},d:["es5"],c:[6,5,9,10,18,17,11]}),p("form-number-date-ui",{f:"forms-ext",test:function(){return r(),!this.options.replaceUI&&q[m].test()},d:["forms",b,m,"range-ui"],options:{widgets:{calculateWidth:!0,monthNames:"monthNamesShort",monthNamesHead:"monthNames"}},c:[6,5,9,10,18,17,11]}),p("form-datalist",{f:"forms",test:function(){return r(),g.list&&!d.customDatalist},d:["form-core",b],c:[16,7,6,2,9,15,30,31]})}(),p("filereader",{test:"FileReader"in window,d:["swfmini",b],c:[25,26,27]}),v=v.concat([1,2,7,8,12,13,14,16,19,20,21,22,23,25,28,29]),p("feature-dummy",{test:!0,loaded:!0,c:v}),k.$=a,k.M=f,window.webshims=k,c.filter("[data-polyfill-cfg]").each(function(){try{k.setOptions(a(this).data("polyfillCfg"))}catch(b){k.warn("error parsing polyfill cfg: "+b)}}).end().filter("[data-polyfill]").each(function(){k.polyfill(a.trim(a(this).data("polyfill")||""))}),g&&(g.cfg&&k.setOptions(g.cfg),g.lang&&k.activeLang(g.lang),"polyfill"in g&&k.polyfill(g.polyfill))});
